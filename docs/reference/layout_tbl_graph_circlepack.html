<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculate nodes as circles packed within their parent circle — layout_tbl_graph_circlepack • ggraph</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Calculate nodes as circles packed within their parent circle — layout_tbl_graph_circlepack" />

<meta property="og:description" content="The circle packing algorithm is basically a treemap using circles instead of
rectangles. Due to the nature of circles they cannot be packed as efficiently
leading to increased amount of "empty space" as compared to a treemap. This
can be beneficial though, as the added empty space can aid in visually
showing the hierarchy." />

<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ggraph</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.0.1.9999</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Edges.html">Edges</a>
    </li>
    <li>
      <a href="../articles/Layouts.html">Layouts</a>
    </li>
    <li>
      <a href="../articles/Nodes.html">Nodes</a>
    </li>
    <li>
      <a href="../articles/tidygraph.html">tidygraph and ggraph</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/thomasp85/ggraph">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate nodes as circles packed within their parent circle</h1>
    <small class="dont-index">Source: <a href='https://github.com/thomasp85/ggraph/blob/master/R/layout_circlepack.R'><code>R/layout_circlepack.R</code></a></small>
    <div class="hidden name"><code>layout_tbl_graph_circlepack.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>The circle packing algorithm is basically a treemap using circles instead of
rectangles. Due to the nature of circles they cannot be packed as efficiently
leading to increased amount of "empty space" as compared to a treemap. This
can be beneficial though, as the added empty space can aid in visually
showing the hierarchy.</p>
    
    </div>

    <pre class="usage"><span class='fu'>layout_tbl_graph_circlepack</span>(<span class='no'>graph</span>, <span class='kw'>weight</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>circular</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>sort.by</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>direction</span> <span class='kw'>=</span> <span class='st'>"out"</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>graph</th>
      <td><p>An <code>tbl_graph</code> object</p></td>
    </tr>
    <tr>
      <th>weight</th>
      <td><p>An optional node variable to use as weight. Will only affect
the weight of leaf nodes as the weight of non-leaf nodes are derived from
their children.</p></td>
    </tr>
    <tr>
      <th>circular</th>
      <td><p>Logical. Should the layout be transformed to a circular
representation. Ignored.</p></td>
    </tr>
    <tr>
      <th>sort.by</th>
      <td><p>The name of a node variable to sort the nodes by.</p></td>
    </tr>
    <tr>
      <th>direction</th>
      <td><p>The direction of the tree in the graph. <code>'out'</code> (default)
means that parents point towards their children, while <code>'in'</code> means that
children point towards their parent.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data.frame with the columns <code>x</code>, <code>y</code>, <code>r</code>, <code>leaf</code>,
<code>depth</code>, <code>circular</code> as well as any information stored as node
variables in the tbl_graph object.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The circle packing is based on the algorithm developed by Weixin Wang and
collaborators which tries to find the most dense packing of circles as they
are added, one by one. This makes the algorithm very dependent on the order
in which circles are added and it is possible that layouts could sometimes
be optimized by choosing a different ordering. The algorithm for finding the
enclosing circle is the randomized incremental algorithm proposed by Emo
Welzl. Both of the above algorithms are the same as used in the D3.js
implementation of circle packing and their C++ implementation in ggraph is
inspired by Mike Bostocks JavaScript implementation.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>Circle packing is a layout intended for trees, that is, graphs where nodes
only have one parent and zero or more children. If the provided graph does
not fit this format an attempt to convert it to such a format will be made.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Wang, W., Wang, H. H., Dai, G., &amp; Wang, H. (2006). <em>Visualization of
large hierarchical data by circle packing</em>. Chi, 517-520.</p>
<p>Welzl, E. (1991). <em>Smallest enclosing disks (balls and ellipsoids)</em>. New
Results and New Trends in Computer Science, 359-370.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other layout_tbl_graph_*: <code><a href='layout_tbl_graph_auto.html'>layout_tbl_graph_auto</a></code>,
  <code><a href='layout_tbl_graph_dendrogram.html'>layout_tbl_graph_dendrogram</a></code>,
  <code><a href='layout_tbl_graph_hive.html'>layout_tbl_graph_hive</a></code>,
  <code><a href='layout_tbl_graph_igraph.html'>layout_tbl_graph_igraph</a></code>,
  <code><a href='layout_tbl_graph_linear.html'>layout_tbl_graph_linear</a></code>,
  <code><a href='layout_tbl_graph_manual.html'>layout_tbl_graph_manual</a></code>,
  <code><a href='layout_tbl_graph_matrix.html'>layout_tbl_graph_matrix</a></code>,
  <code><a href='layout_tbl_graph_partition.html'>layout_tbl_graph_partition</a></code>,
  <code><a href='layout_tbl_graph_treemap.html'>layout_tbl_graph_treemap</a></code></p></div>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Thomas Lin Pedersen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

